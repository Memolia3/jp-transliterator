"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class I{splitIntoChunks(t,n){if(!t)return[];if(n<=0)return[t];const e=[];let r=0;for(;r<t.length;){let s=Math.min(r+n,t.length);if(s>=t.length){e.push(t.slice(r));break}let i=s;const a=/[ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮ]/;for(;i>r;){if(i<t.length&&a.test(t[i])){i--;continue}if(i>0&&i<t.length-1&&/[しちじにひみきぎりぴびシチジニヒミキギリピビ]/.test(t[i-1])&&/[ゃゅょャュョ]/.test(t[i])){i--;continue}if(i>0&&/[っッ]/.test(t[i-1])){i--;continue}break}i<=r&&(i=r+1),e.push(t.slice(r,i)),r=i}return e}combineChunkResults(t){return t.length?t.length===1?t[0]:Array.isArray(t[0])?t.flat():typeof t[0]=="object"&&t[0]!==null?Object.assign({},...t):t[0]:null}}class v{constructor(){this.textProcessor=new I}transliterate(t,n){const e=(n==null?void 0:n.chunkSize)??0;if(!(t!=null&&t.length))return null;try{return this.processTransliteration(t,e)}catch(r){return{error:`変換エラーが発生しました: ${r instanceof Error?r.message:String(r)}`}}}}class M{constructor(){this.root=this.createNode()}createNode(){return{children:new Map,patterns:null,isEndOfWord:!1}}insert(t,n){let e=this.root;for(let r=0;r<t.length;r++){const s=t[r];e.children.has(s)||e.children.set(s,this.createNode()),e=e.children.get(s)}e.isEndOfWord=!0,e.patterns=n}search(t){let n=this.root;for(let e=0;e<t.length;e++){const r=t[e];if(!n.children.has(r))return null;n=n.children.get(r)}return n.isEndOfWord?n.patterns:null}searchLongestPrefix(t,n=0){let e=this.root,r=null,s=0;for(let i=n;i<t.length;i++){const a=t[i];if(!e.children.has(a))break;e=e.children.get(a),e.isEndOfWord&&(r=e,s=i-n+1)}return r?{node:r,length:s}:null}}class R{constructor(t){this.specialCharSets=[],this.patternCache=new Map,this.searchCache=new Map,this.longestMatchCache=new Map,this.MAX_CACHE_SIZE=1e3,this.MAX_SEARCH_CACHE_SIZE=500,this.MAX_MATCH_CACHE_SIZE=200;const n=Object.entries(t).reduce((e,[r,s])=>(r.split("|").forEach(i=>{e[i]=s}),e),{});this.mapTrie=new M,this.specialPatterns={},this.initializePatternContainers(n)}initializeSpecialSets(t){this.specialCharSets=t;const n=new M,e={...this.specialPatterns},r=new Set;for(const s of t)for(const i of s){r.add(i);const a=this.mapTrie.search(i);a&&(e[i]=a)}for(const[s,i]of Object.entries(e))r.has(s)||n.insert(s,i);this.specialPatterns=e,this.clearCaches()}clearCaches(){this.patternCache.clear(),this.searchCache.clear(),this.longestMatchCache.clear()}search(t){const n=this.searchCache.get(t);if(n!==void 0)return n;let e=null;return t in this.specialPatterns?e=this.specialPatterns[t]:e=this.mapTrie.search(t),this.searchCache.size>=this.MAX_SEARCH_CACHE_SIZE&&this.searchCache.clear(),this.searchCache.set(t,e),e}initializePatternContainers(t){const n=new Set;for(const r of this.specialCharSets)for(const s of r)n.add(s);const e=[];for(const[r,s]of Object.entries(t))n.has(r)?this.specialPatterns[r]=s:e.push([r,s]);for(const[r,s]of e)this.mapTrie.insert(r,s)}getSpecialPatterns(t){return this.specialPatterns[t]||null}findLongestMatch(t,n,...e){const r=`${t.substring(n,n+10)}_${n}`,s=this.longestMatchCache.get(r);if(s!==void 0)return s;let i=null;if(e.some(c=>c.has(t[n]))){const c=t[n],u=this.specialPatterns[c];u&&(i={pattern:u,length:1})}const a=this.mapTrie.searchLongestPrefix(t,n);return a&&a.node.patterns&&(!i||a.length>i.length)&&(i={pattern:a.node.patterns,length:a.length}),this.longestMatchCache.size>=this.MAX_MATCH_CACHE_SIZE&&this.longestMatchCache.clear(),this.longestMatchCache.set(r,i),i}getInputPatterns(t){const n=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.mapTrie.search(r);if(s)n.push({pattern:s,char:r});else{const i=this.specialPatterns[r];i?n.push({pattern:i,char:r}):n.push({pattern:[r],char:r})}}return n}getInput(t,n=0){return typeof t=="string"?t in this.specialPatterns?this.specialPatterns[t]:this.mapTrie.search(t)||[t]:!t||!t.length?"":t.length>n&&t[n]&&t[n][0].length>0?t[n][0][0]:""}getOrCachePatterns(t,n){const e=this.patternCache.get(t);if(e)return e;const r=n();return this.patternCache.size>=this.MAX_CACHE_SIZE&&this.patternCache.clear(),t.length<=20&&this.patternCache.set(t,r),r}getCompoundPatterns(t,n){const e=[];for(let r=2;r<=4&&n+r<=t.length;r++){const s=t.substring(n,n+r),i=this.mapTrie.search(s);i&&e.push({patterns:[i],length:r})}return e}getAllRomajiPatterns(t){if(!t||!t.length)return[];const n=[];for(const[e,r]of t)e&&e.length>0&&r.length>0&&n.push([r.join("")]);return n}getCharacterPatterns(t){if(!t||!t.length)return[];const n=[];for(const[e,r]of t)r&&r.length>0&&n.push(r);return n}getCompletePatterns(t){if(!t||!t.length)return{patterns:[],segmented:[]};const n=this.getAllRomajiPatterns(t),e=this.getCharacterPatterns(t);return{patterns:n,segmented:e}}toPatternSetArray(t){return!t||!t.length?[]:t.map(([n,e])=>[n.length>0?n[0]:"",e])}getInputMatrix(t){const n=this.getSpecialPatterns(t);if(n)return[n];if(this.mapTrie){const e=this.mapTrie.search(t);if(e)return[e]}return t.split("").map(e=>[e])}segmentJapaneseText(t){const n=[];let e=0;for(;e<t.length;)e+1<t.length&&t.charCodeAt(e)>=55296&&t.charCodeAt(e)<=56319?(n.push(t.substring(e,e+2)),e+=2):(n.push(t[e]),e++);return n}}class j{combineCartesian(t,n,e){const r=[];let s=0;for(const[i,a]of t){for(const[c,u]of n){if(s>=e)break;const p=i.flatMap(m=>c.map(E=>m+E)),S=[...a,...u];r.push([p,S]),s++}if(s>=e)break}return r}calculateCartesianProduct(t,n=Number.MAX_SAFE_INTEGER){if(t.length===0)return[[]];if(t.length===1)return t[0].map(a=>[a]);const e=[],r=t[0],s=t.slice(1),i=this.calculateCartesianProduct(s,n);for(const a of r){for(const c of i){if(e.length>=n)break;e.push([a,...c])}if(e.length>=n)break}return e}calculatePatternProduct(t,n=1e4){if(t.length===0)return[];if(t.length===1)return t[0];let e=t[0];for(let r=1;r<t.length;r++){const s=t[r],i=[];for(let a=0;a<e.length&&i.length<n;a++)for(let c=0;c<s.length&&i.length<n;c++)i.push(e[a]+s[c]);if(e=i,e.length>=n){e=e.slice(0,n);break}}return e}}class U{toHalfWidth(t){return t?t.replace(/[Ａ-Ｚａ-ｚ０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248)).replace(/　/g," "):""}toFullWidth(t){return t?t.replace(/[A-Za-z0-9]/g,e=>String.fromCharCode(e.charCodeAt(0)+65248)).replace(/ /g,"　"):""}katakanaToHiragana(t){return t.replace(/[\u30a1-\u30f6]/g,n=>{const e=n.charCodeAt(0)-96;return String.fromCharCode(e)})}hiraganaToKatakana(t){return t.replace(/[\u3041-\u3096]/g,n=>{const e=n.charCodeAt(0)+96;return String.fromCharCode(e)})}normalizeSymbols(t){return t.replace(/[‐－―]/g,"-").replace(/[～〜]/g,"~").replace(/[""″″]/g,'"').replace(/[''′′]/g,"'").replace(/[　]/g," ")}normalizeInput(t){return this.normalizeSymbols(this.toHalfWidth(t))}}const k={"あ|ア":["a"],"い|イ":["i","yi"],"う|ウ":["u","wu","whu"],"え|エ":["e"],"お|オ":["o"],"ぁ|ァ":["xa","la"],"ぃ|ィ":["xi","li","yi"],"ぅ|ゥ":["xu","lu"],"ぇ|ェ":["xe","le","ye"],"ぉ|ォ":["xo","lo"],"ゃ|ャ":["xya","lya"],"ゅ|ュ":["xyu","lyu"],"ょ|ョ":["xyo","lyo"],"か|カ":["ka","ca"],"き|キ":["ki"],"く|ク":["ku","cu","qu"],"け|ケ":["ke"],"こ|コ":["ko","co"],"きゃ|キャ":["kya"],"きぃ|キィ":["kyi"],"きゅ|キュ":["kyu"],"きぇ|キェ":["kye"],"きょ|キョ":["kyo"],"くぁ|クァ":["qa","qwa","kwa"],"くぃ|クィ":["qi","qwi","qyi"],"くぅ|クゥ":["qwu"],"くぇ|クェ":["qe","qwe","qye"],"くぉ|クォ":["qo","qwo"],"くゃ|クャ":["qya"],"くゅ|クュ":["qyu"],"くょ|クョ":["qyo"],"が|ガ":["ga"],"ぎ|ギ":["gi"],"ぐ|グ":["gu"],"げ|ゲ":["ge"],"ご|ゴ":["go"],"ぎゃ|ギャ":["gya"],"ぎぃ|ギィ":["gyi"],"ぎゅ|ギュ":["gyu"],"ぎぇ|ギェ":["gye"],"ぎょ|ギョ":["gyo"],"さ|サ":["sa"],"し|シ":["shi","si","ci"],"す|ス":["su"],"せ|セ":["se","ce"],"そ|ソ":["so"],"しゃ|シャ":["sha","sya"],"しぃ|シィ":["syi"],"しゅ|シュ":["shu","syu"],"しぇ|シェ":["she","sye"],"しょ|ショ":["sho","syo"],"ざ|ザ":["za"],"じ|ジ":["ji","zi"],"ず|ズ":["zu"],"ぜ|ゼ":["ze"],"ぞ|ゾ":["zo"],"じゃ|ジャ":["ja","jya","zya"],"じぃ|ジィ":["jyi","zyi"],"じゅ|ジュ":["ju","jyu","zyu"],"じぇ|ジェ":["je","jye","zye"],"じょ|ジョ":["jo","jyo","zyo"],"すぁ|スァ":["swa"],"すぃ|スィ":["swi"],"すぅ|スゥ":["swu"],"すぇ|スェ":["swe"],"すぉ|スォ":["swo"],"た|タ":["ta"],"ち|チ":["chi","ti"],"つ|ツ":["tsu","tu"],"て|テ":["te"],"と|ト":["to"],"ちゃ|チャ":["tya","cya","cha"],"ちぃ|チィ":["tyi","cyi","chi"],"ちゅ|チュ":["tyu","cyu","chu"],"ちぇ|チェ":["tye","cye","che"],"ちょ|チョ":["tyo","cyo","cho"],"だ|ダ":["da"],"ぢ|ヂ":["di"],"づ|ヅ":["du"],"で|デ":["de"],"ど|ド":["do"],"ぢゃ|ヂャ":["dya"],"ぢぃ|ヂィ":["dyi"],"ぢゅ|ヂュ":["dyu"],"ぢぇ|ヂェ":["dye"],"ぢょ|ヂョ":["dyo"],"でゃ|デャ":["dha"],"でぃ|ディ":["dhi"],"でゅ|デュ":["dhu"],"でぇ|デェ":["dhe"],"でょ|デョ":["dho"],"つぁ|ツァ":["tsa"],"つぃ|ツィ":["tsi"],"つぇ|ツェ":["tse"],"つぉ|ツォ":["tso"],"てゃ|テャ":["tha"],"てぃ|ティ":["thi"],"てゅ|テュ":["thu"],"てぇ|テェ":["the"],"てょ|テョ":["tho"],"とぁ|トァ":["twa"],"とぃ|トィ":["twi"],"とぅ|トゥ":["twu"],"とぇ|トェ":["twe"],"とぉ|トォ":["two"],"どぁ|ドァ":["dwa"],"どぃ|ドィ":["dwi"],"どぅ|ドゥ":["dwu"],"どぇ|ドェ":["dwe"],"どぉ|ドォ":["dwo"],"な|ナ":["na"],"に|ニ":["ni"],"ぬ|ヌ":["nu"],"ね|ネ":["ne"],"の|ノ":["no"],"にゃ|ニャ":["nya"],"にぃ|ニィ":["nyi"],"にゅ|ニュ":["nyu"],"にぇ|ニェ":["nye"],"にょ|ニョ":["nyo"],"は|ハ":["ha"],"ひ|ヒ":["hi"],"ふ|フ":["fu","hu"],"へ|ヘ":["he"],"ほ|ホ":["ho"],"ひゃ|ヒャ":["hya"],"ひぃ|ヒィ":["hyi"],"ひゅ|ヒュ":["hyu"],"ひぇ|ヒェ":["hye"],"ひょ|ヒョ":["hyo"],"ぱ|パ":["pa"],"ぴ|ピ":["pi"],"ぷ|プ":["pu"],"ぺ|ペ":["pe"],"ぽ|ポ":["po"],"ぴゃ|ピャ":["pya"],"ぴぃ|ピィ":["pyi"],"ぴゅ|ピュ":["pyu"],"ぴぇ|ピェ":["pye"],"ぴょ|ピョ":["pyo"],"ば|バ":["ba"],"び|ビ":["bi"],"ぶ|ブ":["bu"],"べ|ベ":["be"],"ぼ|ボ":["bo"],"びゃ|ビャ":["bya"],"びぃ|ビィ":["byi"],"びゅ|ビュ":["byu"],"びぇ|ビェ":["bye"],"びょ|ビョ":["byo"],"ふぁ|ファ":["fa","fwa"],"ふぃ|フィ":["fi","fyi","fwi"],"ふぅ|フゥ":["fwu"],"ふぇ|フェ":["fe","fye","fwe"],"ふぉ|フォ":["fo","fwo"],"ふゃ|フャ":["fya"],"ふゅ|フュ":["fyu"],"ふょ|フョ":["fyo"],"ま|マ":["ma"],"み|ミ":["mi"],"む|ム":["mu"],"め|メ":["me"],"も|モ":["mo"],"みゃ|ミャ":["mya"],"みぃ|ミィ":["myi"],"みゅ|ミュ":["myu"],"みぇ|ミェ":["mye"],"みょ|ミョ":["myo"],"や|ヤ":["ya"],"ゆ|ユ":["yu"],"よ|ヨ":["yo"],"ら|ラ":["ra"],"り|リ":["ri"],"る|ル":["ru"],"れ|レ":["re"],"ろ|ロ":["ro"],"りゃ|リャ":["rya"],"りぃ|リィ":["ryi"],"りゅ|リュ":["ryu"],"りぇ|リェ":["rye"],"りょ|リョ":["ryo"],"わ|ワ":["wa"],"うぁ|ウァ":["wha"],"うぃ|ウィ":["wi","whi"],"うぇ|ウェ":["we","whe"],"うぉ|ウォ":["who"],"を|ヲ":["wo"],"ん|ン":["nn","n"],"ゔぁ|ヴァ":["va","vya"],"ゔぃ|ヴィ":["vi","vyi"],"ゔ|ヴ":["vu"],"ゔぇ|ヴェ":["ve","vye"],"ゔぉ|ヴォ":["vo"],"ゔゅ|ヴュ":["vyu"],"ゔょ|ヴョ":["vyo"],"っ|ッ":["xtu","xtsu","ltu","ltsu"],"ゎ|ヮ":["xwa","lwa"],"ゕ|ヵ":["xka","lka"],"ゖ|ヶ":["xke","lke"],"。":["."],"、":[","],ー:["-"],"「":["["],"」":["]"],"（":["("],"）":[")"],"｛":["{"],"｝":["}"],"【":["["],"】":["]"],"〜":["~"],"・":["/"],"‐":["-"],"！":["!"],"？":["?"],"：":[":"],"；":[";"],"＃":["#"],"％":["%"],"＆":["&"],"＊":["*"],"＋":["+"],"－":["-"],"＄":["$"],"＠":["@"],"＾":["^"],"＿":["_"],"～":["~"],"｜":["|"],"＝":["="],"＜":["<"],"＞":[">"],"１":["1"],"２":["2"],"３":["3"],"４":["4"],"５":["5"],"６":["6"],"７":["7"],"８":["8"],"９":["9"],"０":["0"],1:["1"],2:["2"],3:["3"],4:["4"],5:["5"],6:["6"],7:["7"],8:["8"],9:["9"],0:["0"]},y={};for(const[l,t]of Object.entries(k)){const[n,e]=l.split("|");t.forEach(r=>{y[r]?(y[r].includes(n)||y[r].push(n),y[r].includes(e)||y[r].push(e)):y[r]=[n,e]})}const h=class h extends v{constructor(){super(),this.MAX_RESULT_SIZE=Number.MAX_SAFE_INTEGER,this.MAX_COMBINATIONS=2e4,this.SMALL_CHUNK_SIZE=5,this.LONG_TEXT_THRESHOLD=20,this.COMPLEX_PATTERNS_THRESHOLD=100,this.patternService=new R(k),this.cartesianService=new j,this.textConverterService=new U,this.patternService.initializeSpecialSets([h.N_CHARS,h.TSU_CHARS])}processTransliteration(t,n){if(!t)return null;const e=this.textConverterService.toHalfWidth(t),r=[];for(let s=0;s<e.length;s++)this.isSpecialCharacter(e[s])&&r.push(s);if(this.isOnlySpecialCharacters(e)){const s=this.createDirectMapping(e);return s.length>0?s:null}return r.length>0?this.processWithSpecialChars(e,r):this.processNormalText(e,n)}processWithSpecialChars(t,n){const e=[];let r=0;for(const i of n)i>r&&e.push(t.substring(r,i)),e.push(t[i]),r=i+1;r<t.length&&e.push(t.substring(r));const s=[];for(const i of e){if(i.length===1&&this.isSpecialCharacter(i)){const u=this.patternService.search(i)||[i];s.push([[[u[0]],[u[0]]]]);continue}const a=this.generatePatternArray(i);if(!a.length)continue;const c=i.length>10&&a.length>10?this.processLongSegment(i,a):this.generateAllCombinations(a,i);if(c.length===0){const u=a.map(p=>p[0]);s.push([[[u.join("")],u]])}else s.push(c)}return this.combineResults(s)}processLongSegment(t,n){const e=[];for(let s=0;s<n.length;s+=this.SMALL_CHUNK_SIZE)e.push(n.slice(s,s+this.SMALL_CHUNK_SIZE));let r=[];for(let s=0;s<e.length;s++){const i=e[s],a=t.substring(s*this.SMALL_CHUNK_SIZE,Math.min((s+1)*this.SMALL_CHUNK_SIZE,t.length)),c=this.generateAllCombinations(i,a);s===0?r=c:r=this.cartesianService.combineCartesian(r,c,this.MAX_RESULT_SIZE)}return r}processNormalText(t,n){const e=t.length>this.LONG_TEXT_THRESHOLD?Math.min(n,8):n,r=this.textProcessor.splitIntoChunks(t,e),s=[];for(const i of r){const a=this.generatePatternArray(i);if(!a.length)continue;const c=this.generateAllCombinations(a,i);if(c.length===0){const u=a.map(p=>p[0]);s.push([[[u.join("")],u]])}else s.push(c)}return this.combineResults(s)}combineResults(t){if(t.length===0)return null;if(t.length===1)return t[0];let n=t[0];for(let e=1;e<t.length;e++)n=this.cartesianService.combineCartesian(n,t[e],this.MAX_RESULT_SIZE);return n.length?n:null}isOnlySpecialCharacters(t){for(const n of t)if(!this.isSpecialCharacter(n))return!1;return!0}createDirectMapping(t){const n=[];for(const e of t){const r=this.patternService.search(e);n.push(r?r[0]:e)}return[[[n.join("")],n]]}generatePatternArray(t){const n=[];for(let e=0;e<t.length;e++){const r=t[e];if(this.isSpecialCharacter(r)){const i=this.patternService.search(r);n.push(i||[r]);continue}if(this.handleSpecialN(t,e,n)||this.handleTsu(t,e,n))continue;const s=this.patternService.findLongestMatch(t,e,h.N_CHARS,h.TSU_CHARS);s?(n.push(s.pattern),e+=s.length-1):n.push([r])}return n}isSpecialCharacter(t){return t?t.length===1?h.HALF_WIDTH_SPECIAL_CHARS.test(t)||h.FULL_WIDTH_SPECIAL_CHARS.test(t)||h.PUNCTUATIONS.test(t):this.isSpecialCharacter(t[0]):!1}handleSpecialN(t,n,e){const r=t[n];if(!h.N_CHARS.has(r))return!1;const s=this.patternService.getSpecialPatterns(r);return s?(e.push(n+1<t.length&&h.NA_LINE_CHARS.has(t[n+1])?["nn"]:s),!0):!1}handleTsu(t,n,e){var i;const r=t[n];if(!h.TSU_CHARS.has(r))return!1;const s=this.patternService.getSpecialPatterns(r);if(!s)return!1;if(n+1<t.length){const a=this.patternService.findLongestMatch(t,n+1,h.N_CHARS,h.TSU_CHARS);if(a!=null&&a.pattern[0][0]&&/^[a-z]/.test(a.pattern[0][0])){const c=((i=a.pattern[0][0].match(/^[^aiueo]*/))==null?void 0:i[0])||"";if(c)return e.push([c,...s]),!0}}return e.push(s),!0}generateAllCombinations(t,n){if(!t.length)return[];if(t.length<=2)return this.generateSimpleCombinations(t);const e=12;if(t.length>e){const o=t.slice(0,e),f=this.generateAllCombinations(o,n==null?void 0:n.substring(0,e)),A=t.slice(e).map(g=>g[0]),T=A.join(""),C=[],d=Math.min(f.length,100);for(let g=0;g<d;g++){const[N,b]=f[g],H=N.map(L=>L+T),O=[...b,...A];if(C.push([H,O]),C.length>=100)break}return C.length>0?C:[[[t.map(g=>g[0]).join("")],t.map(g=>g[0])]]}const r=[];for(const o of t)o.length<=2?r.push(o):r.push(o.slice(0,2));let s=1;for(const o of r)if(s*=o.length,s>this.MAX_COMBINATIONS*5)return this.generateSimplifiedCombinations(t);const i=[],a=new Array(t.length),c=new Array(t.length),u=new Set;if(n){const o=Math.min(n.length,t.length);for(let f=0;f<o;f++)this.isSpecialCharacter(n[f])&&u.add(f)}const p=new Int16Array(t.length).fill(0);let S=0,m=0;const E=1e6;t:for(;S<t.length&&m<E;){m++;const o=S,f=p[o];if(o>=t.length)break;if(f>=r[o].length){if(p[o]=0,S--,S<0)break;p[S]++;continue}const A=r[o][f];a[o]=A,c[o]=A;let T=!0;if(o>0){const C=o-1,d=c[C],g=u.has(C),N=u.has(o);if(!g&&!N){const b=h.N_PATTERNS.has(d)||h.N_PATTERNS.has(A),H=h.TSU_PATTERNS.has(A);!b&&!H&&d.length===1&&!h.CONSONANT_CHECK_THROUGH_ROMAN_CHARS.has(d)&&!A.startsWith(d)&&(T=!1)}}if(!T){p[o]++;continue}if(o===t.length-1){const C=a.join("");if(i.push([[C],[...c]]),i.length>=this.MAX_COMBINATIONS)break t;p[o]++}else S++}if(i.length===0){const o=t.map(f=>f[0]);i.push([[o.join("")],o])}return i}generateSimplifiedCombinations(t){const n=t.map(s=>s[0]),r=[[[n.join("")],n]];if(t.length<=8){for(let s=0;s<Math.min(4,t.length);s++)if(t[s].length>1){const i=[...n];if(i[s]=t[s][1],r.push([[i.join("")],i]),r.length>=10)break}}return r}generateSimpleCombinations(t){const n=[];if(t.length===1)for(const e of t[0])n.push([[e],[e]]);else if(t.length===2)for(const e of t[0])for(const r of t[1])this.isValidSimpleConsonantCombination(e,r)&&n.push([[e+r],[e,r]]);return n}isValidSimpleConsonantCombination(t,n){return this.isSpecialCharacter(t)||this.isSpecialCharacter(n)||h.N_PATTERNS.has(t)||n.startsWith("xtu")||n.startsWith("xtsu")||n.startsWith("ltu")||n.startsWith("ltsu")?!0:!(t.length===1&&!h.CONSONANT_CHECK_THROUGH_ROMAN_CHARS.has(t)&&!n.startsWith(t))}};h.NA_LINE_CHARS=new Set(["な","に","ぬ","ね","の","ナ","ニ","ヌ","ネ","ノ"]),h.N_CHARS=new Set(["ん","ン"]),h.TSU_CHARS=new Set(["っ","ッ"]),h.CONSONANT_CHECK_THROUGH_ROMAN_CHARS=new Set(["a","i","u","e","o","n"]),h.HALF_WIDTH_SPECIAL_CHARS=/[!@#$%^&*()_+\-=\[\]{}|;:'",.\/<>?0-9]/,h.FULL_WIDTH_SPECIAL_CHARS=/[！＠＃＄％＾＆＊（）＿＋－＝［］｛｝｜；：'"、。・＜＞？０-９]/,h.PUNCTUATIONS=/[、。，．・：；？！´｀¨＾￣＿―‐／＼～∥｜…‥''""（）〔〕［］｛｝〈〉《》「」『』【】＋－±×÷＝≠＜＞≦≧∞∴♂♀°′″℃￥＄￠￡％＃＆＊＠§☆★○●◎◇◆□■△▲▽▼※〒→←↑↓〓ー]/,h.TSU_PATTERNS=new Set(["xtu","xtsu","ltu","ltsu"]),h.N_PATTERNS=new Set(["n","nn"]);let _=h;const P=new _,w=new R(y);function X(l){const t=P.transliterate(l);return t?"error"in t?t:Array.isArray(t)&&t.length>0&&t[0][0].length>0?t[0][0][0]:"":""}function W(l){const t=P.transliterate(l);return t?"error"in t?t:Array.isArray(t)?w.getAllRomajiPatterns(t):[]:[]}function z(l){const t=P.transliterate(l);return t?"error"in t?t:Array.isArray(t)?w.getCharacterPatterns(t):[]:[]}function x(l){const t=P.transliterate(l);return t?"error"in t?t:Array.isArray(t)?w.getCompletePatterns(t):{patterns:[],segmented:[]}:{patterns:[],segmented:[]}}function Z(l){const t=P.transliterate(l);return t?"error"in t?t:Array.isArray(t)?w.toPatternSetArray(t):[]:[]}exports.Romanizer=_;exports.getAllRomajiPatterns=W;exports.getCharacterPatterns=z;exports.getCompletePatterns=x;exports.getPatternSets=Z;exports.toRomaji=X;
